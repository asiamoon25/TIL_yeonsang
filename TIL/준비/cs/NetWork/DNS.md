
## 란?

도메인 이름 시스템은 사용자에게 친숙한 도메인 이름을 컴퓨터가 네트워크에서 서로를 식별하는 데 사용하는 인터넷 프로토콜(IP) 주소로 변환하는 인터넷 표준 프로토콜의 구성 요소임.
➡️ 인터넷 전화번호부

ex) www.example.com 을 입력하면 DNS 는 해당 이름을 컴퓨터가 이해할 수 있는 IP 주소(예: 192.168.1.1) 로 변환함.
↪️ 이 과정을 DNS 룩업 또는 DNS 해석이라고 함.


## DNS 서버 유형

처음 개발자들은 빠르게 확장되는 컴퓨터 네트워크에 보조를 맞출 수 있는 도메인 이름 확인에 대한 보다 동적인 방식을 용이하게 하기 위해 계층적 분산 데이터베이스 구조로 DNS 를 설계했음.

계층 구조는 점(.) 으로 표시된 루트 수준에서 시작하여 '.com', '.org', '.net' 과 같은 최상위 도메인(TLD) 또는 '.uk' 및 '.jp'와 같은 국가 코드 TLD(ccTLD) 및 두 번째 수준 도메인으로 나뉨.

DNS 아키텍처는 두 가지 유형의 DNS서버, 즉 재귀 서버와 권한 있는 서버로 구성이됨. 재귀 DNS서버는 사용자를 웹 사이트에 연결하는 정보를 검색하는 "요청" 을 수행하는 서버임.



### 재귀 서버

재귀 서버는 일반적으로 사용자의 DNS 쿼리를 받아서 처리하는 DNS 서버임.
사용자가 웹사이트의 도메인 이름을 요청하면, 재귀 서버는 해당 도메인 이름에 대한 IP 주소를 찾기 위해 필요한 모든 DNS 쿼리를 수행함.
이 과정에서 재귀 서버는 여러 DNS 서버에 쿼리를 보내며, 최종적인 결과를 사용자에게 반환함.

**특징**
* 클라이언트 대신 쿼리 수행
	* 사용자가 요청한 도메인 이름에 대해 모든 쿼리를 대신 수행함.
* 캐싱
	* 자주 요청되는 쿼리 결과를 저장하여, 미래의 동일한 요청에 대해 더 빠르게 응답할 수 있음.
* 단일 접점
	* 사용자는 DNS 쿼리를 위해 오직 재귀 서버와만 통신하며, 재귀 서버는 나머지 네트워크와 통신함.


### 권한 있는 서버

권한 있는 서버는 특정 도메인에 대한 최종적이록 공식적인 DNS 정보를 제공하는 서버. 이 서버는 해당 도메인의 DNS 레코드를 직접 관리하며, 이 레코드에는 도메인의 IP 주소, 메일 서버 주소(MX 레코드), 서브 도메인 정보 등이 포함됨.


**특징**
* 정확한 데이터 제공
	* 도메인에 대한 정확하고 최신의 정보를 제공함.
* 직접적인 권한
	* 도메인에 대해 `권한` 을 가지고 있으며, 해당 도메인의 DNS 쿼리에 대한 최종적인 응답을 제공함.
* 데이터 관리
	* 도메인 소유자나 관리자가 직접 DNS 레코드를 설정하고 관리함.


### 재귀 서버와 권환있는 서버의 상호작용

1. 사용자의 요청
	* 사용자는 웹 브라우저를 통해 웹 사이트에 접속하려고 함.
2. 재귀 서버에 쿼리
	* 사용자의 DNS 리졸버는 연결된 재귀 서버에 도메인 이름을 요청함.
3. 캐싱 검사 및 쿼리 진행
	* 재귀 서버는 내부 캐시를 확인하여 요청된 정보를 가지고 있는지 검사함. 캐시에 없다면, 루트 DNS 서버로부터 시작하여 TLD 서버, 최종적으로 권한 있는 서버까지 쿼리를 진행함.
4. 권한 있는 서버의 응답
	* 권한 있는 서버는 요청받은 도메인의 DNS 레코드 정보를 재귀 서버에게 제공함.
5. 재귀 서버가 사용자에게 응답
	* 재귀 서버는 받은 정보를 사용자의 리졸버에 전달하고, 일정 시간 동안 이 정보를 캐싱함.




----


DNS(Domain Name System) 은 인터넷 사용 시 도메인 이름을 IP 주소로 변환하는 과정을 담당하는 시스템. 이 시스템은 사용자가 웹 브라우저에서 도메인 이름을 입력했을 때, 해당 도메인의 IP 주소를 찾아서 연결할 수 있게 해줌.DNS 의 작동 원리와 구성을 좀 더 쉽게 이해하기 위해 다음과 같이 정리할 수 있음.


1. DNS 구성 요소
	1. 도메인 네임 스페이스 : 전 세계 DNS 서버가 관리하는 계층적인 도인 구조임.
	2. 네임 서버 : 권한 있는 DNS 서버로, 도메인 이름과 IP 주소의 매핑 정보를 관리함.
	3. 리졸버 : 사용자의 요청을 받아 해당 도메인의 IP 주소를 찾는 역할을 하는 클라이언트 프로그램

2. DNS 작동 과정
	1. 사용자 요청 처리 : 사용자가 웹 브라우저에 도메인 이름을 입력
	   
	2. 리졸버가 요청 수신 : DNS 리졸버는 먼저 로컬 캐시를 확인하여 요청받은 도메인의 주소가 IP에 저장되어 있는지 확인.
	   
	3. 루트 DNS 서버 요청 : 캐시에 없다면, 리졸버는 루트 DNS 서버에 접근하여 해당 도메인의 최상위 도메인(TLD) 서버 정보를 요청함.
	   
	4. TLD 서버 요청 : 루트 서버로부터 TLD 서버 정보를 받으면, 리졸는 TLD 서버에 접속하여 해당 도메인을 관리하는 권한 있는 네임 서의 정보를 요청함.
	   
	5. 권한 있는 네임 서버 요청 : TLD 서버로 부터 받은 정보를 바탕으로 권한 있는 네임 서버에 접속하여 최종적인 IP 주소를 받음.
	
	6. IP 주소 반환 : 리졸버는 받은 IP 주소를 웹 브라우저에 반환하고, 이 주소로 사용자는 원하는 웹페이지에 접속할 수 있음.
	   리졸버는 이 IP 주소를 캐시에 저장하여 다음 요청 시 빠르게 제공할 수 있도록 함.


3. DNS 쿼리 유형
	* 재귀적 쿼리
		* 사용자 또는 다른 네임 서버로 부터 받은 요청에 대해 필요한 정보를 찾을 때까지 다른 네임서버를 반복적으로 요청함.
	* 반복적 쿼리
		* 요청 받은 네임 서버가 직접 답을 찾을 수 없을 때, 요청자에게 다음에 조회할 네임 서버의 주소를 알려주고, 요청자가 다음 네임 서버에 직접 요청하도록 함.



