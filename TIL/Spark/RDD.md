* Resilient Distributed Data
	* 탄력적인 분산 데이터 셋
	* Spark 가 사용하는 핵심 데이터 모델, 다수의 서버에 걸쳐 분산 방식으로 저장된 요소들의 집합, 병렬 처리가 가능하며 장애가 발생할 경우 스스로 복구될 수 있는 내성을 가지고 있음.
	* 내부에는 단위 데이터를 포함하고 있고 저장할 때는 여러 서버에 나누어 저장되며, 처리할 때는 각 서버에 저장된 데이터를 동시에 병렬로 처리할 수 있는 모델


* 데이터 공유
![[Pasted image 20231124111137.png]]
	Spark 의 핵심 아이디어는 RDD(Resilient Distributed Dataset) 이며, 메모리 내 처리 연산을 지원. 메모리에서 데이터 공유는 네트워크나 디스크보다 10~100배 빠름.
	데이터를 RAM 에 올린 후에 fault-tolerant 가 발생해도 문제가 없도록 memory 내용을 갱신하지 않고 read-only 로 사용한 것이 RDD 이다. 













# RDD
* ***Resilient Distributed Data**
	1. 탄력적인 분산 데이터 셋
	2. Spark 가 사용하는 핵심 데이터 모델, 다수의 서버에 걸쳐 분산 방식으로 저장된 요소들의 집합, 병렬 처리가 가능하며 장애가 발생할 경우 스스로 복구될 수 있는 내성을 가지고 있음.
	3. 내부에는 단위 데이터를 포함하고 있고 저장할 때는 여러 서버에 나누어 저장되며, 처리할 때는 각 서버에 저장된 데이터를 동시에 병렬로 처리할 수 있는 모델

* 특징
	1. 데이터 추상화
		데이터는 클러스터에 흩어져 있지만 하나의 파일인 것 처럼 사용이 가능하다.
		여러 곳에 데이터를 객체 하나에 담을 수 있음.
	
	2. 탄력적 & 불변성 (Resilient & Immutable)
		데이터는 탄력적이고 불변(Resilient & Immutable) 하는 성질이 있다.
		만약 데이터가 네트워크 장애나 하드웨어, 메모리 문제, 알 수 없는 갖가지 이유로 연산 중 여러 노드 중 하나가 망가진다면, 데이터가 불변(Immutable) 하면 문제가 일어날 때 복원이 가능해진다.
	
	3. 타입 세이프
		RDD 는 컴파일 시 타입을 판별할 수 있어 문제를 일찍 발견할 수 있기 때문에 개발자 친화적이다.
	
	4. 정형 & 비정형 데이터
		정형 / 비정형 데이터(Unstructured/Structured Data) 를 모두 담을 수 있다.
	
	5. Lazy
		RDD 는 연산이 필요할 때까지 연산을 하지 않는다.
		액션(A, Action) 을 할 때 까지 변환(T, Transformation)은 실행되지 않는다.
			스파크 오퍼레이션 = 변환 + 액션
		RDD3 에서 RDD4로의 액션이 일어나기 전까지 RDD1 -> RDD3 까지의 변환을 실행하지 않는다. => 게으른 연산(Lazy Evaluation)
	
	6. 다수의 파티션으로 관리됨
		* 하나의 RDD 는 여러 파티션으로 나뉨.
		* 파티션의 개수, 파티셔너(Hash,Range) 등을 선택 가능하다.


* Operation
	* Transformation
		* 기존의 RDD를 변경하여 새로운 RDD 를 생성
		-> return 이 RDD가 됨.
	
	* Action
		* RDD 값을 기반으로

* ***Lineage(혈통)**
	![[Pasted image 20231124140736.png]]
	RDD 는 불변하는 특성으로 인해 기존에 있던 RDD를 활용하는 것이 아닌 새로운 RDD 를 생성하게됨 -> 이 때 생성되는 연산 순서가 바로 Lineage
	
	* 특징
		1. Lineage 는 DAG 형태로 되있음.
			![[Pasted image 20231124140043.png]]
		2. 노드 간의 순환이 없고, 일정한 방향성을 가짐.
			DAG 형태이기 때문에 장애 발생 시 그래프를 다시 복기하여 다시 계산하고, 자동으로 복구 할 수 있음.


* RDD 동작원리
	![[Pasted image 20231124140830.png]]
	